(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{189:function(t,e,n){var content=n(203);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(37).default)("9d1921e8",content,!0,{sourceMap:!1})},190:function(t,e,n){var content=n(205);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(37).default)("359c9ca8",content,!0,{sourceMap:!1})},202:function(t,e,n){"use strict";var o=n(189);n.n(o).a},203:function(t,e,n){(e=n(36)(!1)).push([t.i,".gallery[data-v-707e4827]{width:100vw;height:100vh;overflow:hidden;position:relative}.gallery canvas[data-v-707e4827]{width:100%;height:100%;position:absolute}.item[data-v-707e4827]{position:absolute;background-color:#fff;border:8px solid #ddd;display:flex;align-items:center;justify-content:center}@media screen and (max-width:600px){.item[data-v-707e4827]{border-width:3px}}.description[data-v-707e4827]{padding:30px 0 30px 30px;font-size:12px;color:#000;line-height:24px;width:225px;height:100vh;position:relative}.description .name[data-v-707e4827]{margin-bottom:15px;color:#4c4c4c}.description .featuring[data-v-707e4827],.description .where[data-v-707e4827]{color:#999}.close-btn[data-v-707e4827]{margin:15px 0;cursor:pointer}@media screen and (max-width:600px){.description[data-v-707e4827]{height:auto;width:100vw;position:fixed;bottom:0}.close-btn[data-v-707e4827]{display:none}}.arrows-nav[data-v-707e4827]{position:fixed;bottom:30px;left:30px}.arrow-left[data-v-707e4827],.arrow-right[data-v-707e4827]{display:inline-block;margin-right:30px;cursor:pointer}.hover-text[data-v-707e4827]{padding:48px;color:#fff;position:relative;cursor:pointer;pointer-events:none}.hover-text .wrap[data-v-707e4827]{position:absolute;bottom:48px}.hover-text .name[data-v-707e4827]{font-size:27px;line-height:39px}.hover-text .feat[data-v-707e4827]{font-size:16px;line-height:21px}.menu[data-v-707e4827]{position:fixed;left:15px;top:15px;width:106px;height:148px;padding:15px;background:#fff;opacity:.75}.menu p[data-v-707e4827]{font-size:12px;line-height:18px;cursor:pointer}.menu .title[data-v-707e4827]{font-size:12px;line-height:24px;margin-bottom:15px}@media screen and (max-width:600px){.menu[data-v-707e4827]{left:50%;transform:translateX(-50%);transition:all .2s}.menu.closed[data-v-707e4827]{height:54px}}",""]),t.exports=e},204:function(t,e,n){"use strict";var o=n(190);n.n(o).a},205:function(t,e,n){(e=n(36)(!1)).push([t.i,".item{font-size:18px;line-height:36px;letter-spacing:.6px}.item p{color:#888;pointer-events:none;text-align:justify}.item a{display:inline-block;color:#4c4c4c;text-decoration:none;pointer-events:all}.item a:hover{color:#000}.item h1{color:#e0e0e0;font-size:90px;font-weight:400;letter-spacing:64px}.mb{margin-bottom:2rem}.description .featured{color:#4c4c4c}@media screen and (max-width:600px){.item{font-size:12px;line-height:18px;letter-spacing:.3px}.mb{margin-bottom:1rem}.desktop-only{display:none}}",""]),t.exports=e},207:function(t,e,n){"use strict";n.r(e);n(52),n(19),n(35);var o=n(206),r=(n(20),n(11),n(38),n(191),n(188),n(18)),c=n(47),l=n(1),f=(n(23),n(24),n(192),n(187)),h=n(194),m=n(195),d=n(193),v=function t(e){var n=this,o=e.projectsByColumns,r=e.layoutSettings,c=e.$textBlocks,l=e.isMobile,h=void 0!==l&&l;Object(f.a)(this,t),this.getLayout=function(){var t=[],e=[],o=n.layoutSettings.containerMargin,r=0,c=0;return n.projectsByColumns.forEach((function(l,f){var h=n.columnsPadding[f]+n.layoutSettings.containerMargin;l.forEach((function(r){var c;if("project"==r.type){var l=n.layoutSettings.width;c=r.height/r.width*l,t.push({width:l,height:c,left:o,top:h,project:r})}else{var f=n.$domProjects.filter((function(t){return t.getAttribute("data-id")==r.id}))[0],m=f.offsetWidth;c=f.offsetHeight,e.push({width:m,height:c,left:o,top:h,$:f,type:r.type})}h+=c+n.layoutSettings.margin})),o+=n.layoutSettings.width+n.layoutSettings.margin,r=Math.max(r,o+n.layoutSettings.containerMargin-n.layoutSettings.margin),c=Math.max(c,h+n.layoutSettings.containerMargin)})),{imgs:t,doms:e,width:r,height:c}},this.projectsByColumns=o,this.layoutSettings=h?r.mobile:r.desktop,this.columnsPadding=r.columnsPadding,this.$domProjects=c},y=n(201),x=function(t,e,progress){return t+(e-t)*progress},w=function(progress){var t=1-progress;return progress<.5?4*progress*progress*progress:1-4*t*t*t},P=function t(e){var n=this,o=e.$canvas,r=e.items,c=e.resolution,l=e.layoutSettings,h=e.isMobile,m=e.scale,d=void 0===m?1:m;Object(f.a)(this,t),this.getProgram=function(t){return new y.Program(n.renderer.gl,{vertex:"\nprecision highp float;\nprecision highp int;\n\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nvarying vec2 vUv;\n\nuniform float uvScale;\n\nvoid main() {\n  vUv = (uv - .5) * uvScale + .5;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}\n",fragment:"\nprecision highp float;\n\nvarying vec2 vUv;\n\nuniform sampler2D tex;\nuniform float whiteness;\nuniform float blackness;\n\nvoid main() {\n  vec4 color = texture2D(tex, vec2(vUv.x, 1. - vUv.y));\n  color.xyz *= blackness;\n  color.xyz = mix(color.xyz, vec3(1.), whiteness);\n  gl_FragColor = color;\n}\n",uniforms:{tex:{value:t},blackness:{value:1},uvScale:{value:1},whiteness:{value:0}},cullFace:n.renderer.gl.FRONT})},this.getTexture=function(image){return new y.Texture(n.renderer.gl,{image:image,generateMipmaps:!1})},this.create=function(){n.renderer=new y.Renderer({canvas:n.$canvas,width:n.resolution.x,height:n.resolution.y,antialias:!0,webgl:1});var t=n.renderer.gl;t.clearColor(1,1,1,1),n.camera=new y.Camera(t,{left:-n.halfRes.x,right:n.halfRes.x,top:-n.halfRes.y,bottom:n.halfRes.y}),n.camera.position.set(n.halfRes.x,n.halfRes.y,1),n.camera.lookAt([n.halfRes.x,n.halfRes.y,0]),n.container=new y.Transform,n.container.scale.set(n.scale,n.scale,1);for(var e=new y.Plane(t),i=0;i<n.items.length;i++){var o=n.items[i],image=new Image;image.src=o.project.preview;var r=n.getTexture(image),c=n.getProgram(r),l=new y.Mesh(t,{geometry:e,program:c});l.position.set(o.left+.5*o.width,o.top+.5*o.height,0),l.scale.set(o.width,o.height,1),l.setParent(n.container),o.plane=l,o.hoverCurrent=0,o.hoverTarget=0,o.shiftX=0,o.shiftY=0,o.shiftFactor=1e3+2e3*Math.random(),n.planes[o.project.id]=l,n.itemsByIds[o.project.id]=o}},this.createFullscreenPlane=function(){var image=new Image;image.src=n.items[0].project.full;var t=n.getTexture(image),e=new y.Program(n.renderer.gl,{vertex:"\nprecision highp float;\nprecision highp int;\n\nattribute vec3 position;\nattribute vec2 uv;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}\n",fragment:"\nprecision highp float;\n\nvarying vec2 vUv;\n\nuniform sampler2D tex;\nuniform float whiteness;\nuniform float blackness;\nuniform float opacity;\n\nvoid main() {\n  vec4 color = texture2D(tex, vec2(vUv.x, 1. - vUv.y));\n  color.xyz *= blackness;\n  color.xyz = mix(color.xyz, vec3(1.), whiteness);\n  gl_FragColor = vec4(color.xyz, opacity);\n}\n",uniforms:{tex:{value:t},blackness:{value:1},whiteness:{value:0},opacity:{value:1}},cullFace:n.renderer.gl.FRONT,transparent:!0}),o=new y.Mesh(n.renderer.gl,{geometry:new y.Plane(n.renderer.gl),program:e});return o.visible=!1,o.position.z=.5,o.setParent(n.container),o},this.render=function(){n.renderer.render({scene:n.container,camera:n.camera})},this.update=function(t,e){var o=t.scale,r=t.offset,c=r.x,l=r.y;n.scale=o,n.offsetX=c,n.offsetY=l,n.container.scale.set(o,o,1),n.container.position.set(c,l,0),n.items.forEach((function(t){t.hoverCurrent+=.1*(t.hoverTarget-t.hoverCurrent),t.plane.position.x-=t.shiftX,t.shiftX+=.05*(e.x*t.shiftFactor-t.shiftX),t.plane.position.x+=t.shiftX,t.plane.position.y-=t.shiftY,t.shiftY+=.05*(e.y*t.shiftFactor-t.shiftY),t.plane.position.y+=t.shiftY,t.plane.program.uniforms.blackness.value=1-.5*t.hoverCurrent,t.plane.program.uniforms.uvScale.value=1-.1*t.hoverCurrent})),n.isAnimating&&n.updateFullscreenAnimation()},this.hitTest=function(t){for(var e=t.x,o=t.y,r=(e-n.offsetX)/n.scale,c=(o-n.offsetY)/n.scale,i=0;i<n.items.length;i++){var l=n.items[i];if(l.left<r&&l.left+l.width>r&&l.top<c&&l.top+l.height>c)return l.project.id}return-1},this.getItem=function(t){return n.itemsByIds[t]},this.fadeItem=function(t){var e=t.id,o=t.value;n.itemsByIds[e].hoverTarget=o},this.setOpacity=function(t){n.planes.forEach((function(e){e.program.uniforms.whiteness.value=1-t}))},this.setItemsScale=function(t){n.items.forEach((function(e){n.planes[e.project.id].scale.set(e.width*t,e.height*t,1)}))},this.updateUnfullscreenAnimation=function(t){var progress=t.progress,e=t.fsPlaneOpacity;n.fsPlane.program.uniforms.opacity.value=e,1==progress&&(n.fsPlane.program.uniforms.opacity.value=1,n.fsPlane.visible=!1)},this.setFSImage=function(t){n.fullImage&&(n.fullImage.onload=null,n.fullImage=null),n.fullImage=new Image,n.fullImage.onload=function(){n.fsPlane.program.uniforms.tex.value=n.getTexture(n.fullImage)},n.fullImage.src=t},this.updateFSImage=function(t){var e=new Image;e.src=t.preview,n.fsPlane.program.uniforms.tex.value=n.getTexture(e),n.setFSImage(t.full);var o=n.getFSPlaneSize(t),r=o.px,c=o.py,l=o.sx,f=o.sy;n.fsPlane.position.x=r,n.fsPlane.position.y=c,n.fsPlane.scale.x=l,n.fsPlane.scale.y=f},this.getFSPlaneSize=function(t){var e=n.resolution.x-n.layoutSettings.fsResDeltaX,o=n.resolution.y-n.layoutSettings.fsResDeltaY,r=e/o,c=t.width/t.height/r,l=e,f=o;c<1?l*=c:f/=c;var h=.5*(n.resolution.x-l)<n.layoutSettings.fsResDeltaX?.5*n.layoutSettings.fsResDeltaX:0,m=.5*(n.resolution.y-f)<n.layoutSettings.fsResDeltaY?.5*-n.layoutSettings.fsResDeltaY:0;return l/=n.scale,f/=n.scale,{px:(n.halfRes.x+h-n.container.position.x)/n.scale,py:(n.halfRes.y+m-n.container.position.y)/n.scale,sx:l,sy:f}},this.startFullscreenTransition=function(t){var e=t.id;n.animatingItem=n.items.find((function(t){return t.project.id==e})),n.fsPlane.program.uniforms.tex.value=n.planes[e].program.uniforms.tex.value,n.setFSImage(n.animatingItem.project.full),n.fsPlane.visible=!0},this.updateFullscreenAnimation=function(progress){var t=n.getFSPlaneSize(n.animatingItem),e=t.px,o=t.py,r=t.sx,c=t.sy,l=n.planes[n.animatingItem.project.id];n.fsPlane.position.x=x(l.position.x,e,progress),n.fsPlane.position.y=x(l.position.y,o,progress),n.fsPlane.scale.x=x(l.scale.x,r,progress),n.fsPlane.scale.y=x(l.scale.y,c,progress)},this.$canvas=o,this.items=r,this.resolution=c,this.layoutSettings=h?l.mobile:l.desktop,this.halfRes={x:.5*c.x,y:.5*c.y},this.scale=d,this.offsetX=0,this.offsetY=0,this.planes=[],this.itemsByIds={},this.create(),this.fsPlane=this.createFullscreenPlane(),this.animatingItem=null,requestAnimationFrame(this.render)},S=function t(e){var n=this,o=e.items;Object(f.a)(this,t),this.update=function(t){var e=t.scale,o=t.offset,r=o.x,c=o.y;n.items.forEach((function(t){var o=t.left*e+r-t.width*(1-e)*.5,l=t.top*e+c-t.height*(1-e)*.5;t.$.style.transform="\n        translate(".concat(o,"px, ").concat(l,"px)\n        scale(").concat(e*n.itemsScale,")\n      ")}))},this.setOpacity=function(t){n.items.forEach((function(e){e.$.style.opacity=t}))},this.setItemsScale=function(t){n.itemsScale=t},this.items=o,this.itemsScale=1},j=function t(){var e=this;Object(f.a)(this,t),this.on=function(t,n){e.__listeners[t]||(e.__listeners[t]=[]),e.__listeners[t].push(n)},this.dispatch=function(t,data){e.__listeners[t]&&e.__listeners[t].forEach((function(t){return t(data)}))},this.__listeners={}};function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(d.a)(t);if(e){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(m.a)(this,n)}}var D=function(t){Object(h.a)(n,t);var e=k(n);function n(t){var o,r=t.$,c=t.isTouchDevice,l=t.resolution,h=t.position,m=h.x,d=h.y,v=t.dragDamping,y=void 0===v?.05:v,x=t.scale,w=void 0===x?1:x,P=t.minScale,S=void 0===P?.5:P,j=t.maxScale,k=void 0===j?1:j,D=t.scaleDamping,M=void 0===D?.02:D;return Object(f.a)(this,n),(o=e.call(this)).getMouseShift=function(){return{x:.03*(o.mouseX/window.innerWidth-.5),y:.03*(o.mouseY/window.innerHeight-.5)}},o.isDraggable=function(t){return t.hasAttribute("draggable")},o.registerListeners=function(){o.$.forEach((function(t){t.addEventListener("mousedown",(function(t){o.maybeDragging=!0,t.preventDefault()})),t.addEventListener("mousemove",(function(t){o.mouseX=t.clientX,o.mouseY=t.clientY,o.maybeDragging&&(o.startDrag({x:t.clientX,y:t.clientY}),o.maybeDragging=!1),o.isDragging&&o.updateDrag({x:t.clientX,y:t.clientY}),t.preventDefault()})),t.addEventListener("mouseup",(function(t){o.isDragging?o.finishDrag():o.maybeDragging&&(o.maybeDragging=!1,o.dispatch("click")),t.preventDefault()})),t.addEventListener("wheel",(function(t){o.updateZoom(t.deltaY),t.preventDefault()})),t.addEventListener("touchstart",(function(t){if(o.mouseX=t.touches[0].clientX,o.mouseY=t.touches[0].clientY,2==t.touches.length){o.isDragging&&o.finishDrag();var e=t.touches[0].clientX-t.touches[1].clientX,n=t.touches[0].clientY-t.touches[1].clientY,r=Math.sqrt(e*e+n*n);o.startZoom({distance:r})}1!=t.touches.length||o.isZooming||(o.maybeDragging=!0),1!=t.scale&&t.preventDefault()})),t.addEventListener("touchmove",(function(t){if(o.mouseX=t.touches[0].clientX,o.mouseY=t.touches[0].clientY,o.maybeDragging&&(o.startDrag({x:o.mouseX,y:o.mouseY}),o.maybeDragging=!1),o.isDragging&&o.updateDrag({x:o.mouseX,y:o.mouseY}),o.isZooming&&t.touches.length>1){var e=t.touches[0].clientX-t.touches[1].clientX,n=t.touches[0].clientY-t.touches[1].clientY,r=Math.sqrt(e*e+n*n);o.updateTouchZoom({distance:r})}1!=t.scale&&t.preventDefault()})),t.addEventListener("touchend",(function(t){o.isDragging?o.finishDrag():o.maybeDragging&&(o.maybeDragging=!1,o.dispatch("click")),o.isZooming&&o.finishZoom(),1!=t.scale&&t.preventDefault()}))}))},o.startDrag=function(t){var e=t.x,n=t.y;o.isDragging=!0,o.dragStartX=e/o.resolution.x,o.dragStartY=n/o.resolution.y,o.dragStartPosX=o.posX,o.dragStartPosY=o.posY},o.updateDrag=function(t){var e=t.x,n=t.y;o.dragEndX=e/o.resolution.x,o.dragEndY=n/o.resolution.y,o.targetPosX=o.dragStartPosX+o.dragStartX-o.dragEndX,o.targetPosY=o.dragStartPosY+o.dragStartY-o.dragEndY},o.finishDrag=function(){o.isDragging=!1,o.dispatch("swipe",{dx:o.dragEndX-o.dragStartX,dy:o.dragEndY-o.dragStartY})},o.startZoom=function(t){var e=t.distance;o.isZooming=!0,o.prevPinchDistance=e},o.updateZoom=function(t){var e=o.targetScale+.5*Math.sign(t);o.targetScale=Math.min(o.maxScale,Math.max(o.minScale,e))},o.updateTouchZoom=function(t){var e=t.distance;o.updateZoom(e-o.prevPinchDistance),o.prevPinchDistance=e},o.finishZoom=function(){o.isZooming=!1},o.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=.3;o.targetPosX<0&&(o.targetPosX-=o.targetPosX*e),o.targetPosX>1&&(o.targetPosX-=(o.targetPosX-1)*e),o.targetPosY<0&&(o.targetPosY-=o.targetPosY*e),o.targetPosY>1&&(o.targetPosY-=(o.targetPosY-1)*e);var n=o.getMouseShift();return o.posX+=t*o.dragDamping*(o.targetPosX+n.x-o.posX),o.posY+=t*o.dragDamping*(o.targetPosY+n.y-o.posY),o.scale+=t*o.scaleDamping*(o.targetScale-o.scale),{mouseShift:n}},o.dragTo=function(t){var e=t.x,n=t.y,r=t.scale;o.targetPosX=e,o.targetPosY=n,o.targetScale=r},o.$=r,o.resolution=l,o.posX=m,o.posY=d,o.isTouchDevice=c,o.maybeDragging=!1,o.isDragging=!1,o.dragStartX=0,o.dragStartY=0,o.dragStartPosX=o.posX,o.dragStartPosY=o.posY,o.targetPosX=o.posX,o.targetPosY=o.posY,o.dragDamping=y,o.isZooming=!1,o.scale=w,o.targetScale=w,o.minScale=S,o.maxScale=k,o.scaleDamping=M,o.prevPinchDistance=0,o.mouseX=.5,o.mouseY=.5,o.registerListeners(),o}return n}(j),M=function(t,e,n,o){var r=t.x,c=t.y,l=e.scale;return{x:-r*l/(n.x-o.x*l),y:-c*l/(n.y-o.y*l)}};function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(d.a)(t);if(e){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(m.a)(this,n)}}function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function C(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var F=new(function(t){Object(h.a)(n,t);var e=X(n);function n(){var t;return Object(f.a)(this,n),(t=e.call(this)).initialize=function(e){var n=e.$listen,o=e.isTouchDevice,r=e.projectsByColumns,c=e.layoutSettings,l=e.$textBlocks,f=e.minScale,h=e.$canvas,m=e.resolution,d=e.isMobile;t.layoutSettings=d?c.mobile:c.desktop;var y=new v({projectsByColumns:r,layoutSettings:c,$textBlocks:l,isMobile:d});t.layout=y.getLayout(),t.gl=new P({$canvas:h,items:t.layout.imgs,resolution:m,isMobile:d,layoutSettings:c}),t.dom=new S({items:t.layout.doms}),t.gestures=new D({$:n,resolution:m,position:{x:.5,y:.375},minScale:f,isTouchDevice:o}),t.resolution=m},t.update=function(e){var n=t.gestures.update(t.dampingFactor).mouseShift;if(t.props.scale=t.gestures.scale,t.props.offset.x=t.gestures.posX*(e.x-t.layout.width*t.props.scale),t.props.offset.y=t.gestures.posY*(e.y-t.layout.height*t.props.scale),t.dom.update(t.props),t.gl.update(t.props,n),!t.isFullscreen){var o=t.gl.hitTest({x:t.gestures.mouseX,y:t.gestures.mouseY});t.hoveredId!=o&&(-1==t.hoveredId?t.dispatch("hover",{id:o}):t.dispatch("unhover",{id:t.hoveredId}),t.hoveredId=o)}if(t.isAnimating)switch(t.animationType){case 1:t.updateFullscreenAnimation();break;case 2:t.updateUnfullscreenAnimation()}t.gl.render()},t.focusOn=function(e){var n=t.dom.items.find((function(t){return t.type==e})),o=n.left+.5*n.width-.5*t.resolution.x,r=n.top+.5*n.height-.5*t.resolution.y,c=M({x:o,y:r},{scale:1},t.resolution,{x:t.layout.width,y:t.layout.height});t.gestures.dragTo(Y(Y({},c),{},{scale:1}))},t.startFullscreenTransition=function(e){var n=e.id;t.isFullscreen=!0,t.isAnimating=!0,t.animationType=1,t.animationStartTime=performance.now(),t.gl.startFullscreenTransition({id:n})},t.updateFullscreenAnimation=function(){t.animationProgress=(performance.now()-t.animationStartTime)/800,t.animationProgress>1&&(t.animationProgress=1,t.isAnimating=!1,t.animationType=0),t.dampingFactor=1-t.animationProgress;var e=1-Math.min(1,2*t.animationProgress),n=w(e);t.dom.setOpacity(n),t.gl.setOpacity(n);var o=.8+.1*n;t.dom.setItemsScale(o),t.gl.setItemsScale(o);var r=Math.max(0,2*t.animationProgress-1),c=w(r);t.gl.updateFullscreenAnimation(c)},t.startUnfullscreenAnimation=function(){t.isAnimating=!0,t.animationType=2,t.animationStartTime=performance.now(),t.dampingFactor=1},t.updateUnfullscreenAnimation=function(){t.animationProgress=(performance.now()-t.animationStartTime)/1e3,t.animationProgress>1&&(t.animationProgress=1,t.isAnimating=!1,t.isFullscreen=!1,t.animationType=0);var e=Math.max(0,1.5*t.animationProgress-.5),n=w(e);t.dom.setOpacity(n),t.gl.setOpacity(n);var o=.8+.2*n;t.dom.setItemsScale(o),t.gl.setItemsScale(o);var r=Math.max(0,1.5*(1-t.animationProgress)-.5),c=w(r);t.gl.updateUnfullscreenAnimation({progress:t.animationProgress,fsPlaneOpacity:c})},t.changeFSProject=function(e){t.gl.updateFSImage(e)},t.props={scale:.5,offset:{x:-50,y:-50}},t.hoveredId=-1,t.isFullscreen=!1,t.isAnimating=!1,t.animationStartTime=0,t.animationType=0,t.animationProgress=0,t.dampingFactor=1,t}return n}(j)),I={data:function(){return{resolution:{x:0,y:0},fsProject:null,hover:null,hoverStyle:"",showMenu:!0,isTouchDevice:!0,mobileOpenMenu:!1}},computed:C(C({},Object(c.b)(["projects","columnsPadding","projectsByColumns","layout"])),{},{openMenu:function(){return!this.isMobile||this.mobileOpenMenu},domItems:function(){return this.projects.filter((function(t){return"project"!=t.type}))},isMobile:function(){return window.innerWidth<600},textBlockStyle:function(){var t=this.isMobile?this.layout.mobile:this.layout.desktop;return"width: ".concat(t.width,"px; padding: ").concat(t.padding,"; will-change: transform;")}}),methods:{tick:function(){if(F.update(this.resolution),null!==this.hover){var t=F.gl.getItem(this.hover.id),e=F.props.scale,n=t.left*e+F.props.offset.x-t.width*(1-e)*.5,o=t.top*e+F.props.offset.y-t.height*(1-e)*.5;this.hoverStyle="\n          width: ".concat(t.width,"px;\n          height: ").concat(t.height,"px;\n          transform: translate(").concat(n,"px, ").concat(o,"px) scale(").concat(e,");\n          will-change: transform;\n        ")}requestAnimationFrame(this.tick)},changeProject:function(t){if(null!=this.fsProject){var e=this.fsProject.id+t;e<0&&(e=this.projects.length-1),e>=this.projects.length&&(e=0),this.fsProject=this.projects.find((function(t){return t.id==e})),"project"!=this.fsProject.type&&(e+=Math.sign(t),this.fsProject=this.projects.find((function(t){return t.id==e}))),F.changeFSProject(this.fsProject)}},toggleOpenMenu:function(){this.isMobile&&(this.mobileOpenMenu=!this.mobileOpenMenu)},focusOn:function(t){F.focusOn(t)},onClick:function(){F.isFullscreen||-1===F.hoveredId||(F.startFullscreenTransition({id:F.hoveredId}),this.fsProject=this.projects.find((function(t){return t.id==F.hoveredId})),this.showMenu=!1),F.isFullscreen&&!F.isAnimating&&(F.startUnfullscreenAnimation(),this.fsProject=null,this.showMenu=!0)},onSwipe:function(t){var e=t.dx,n=t.dy,o=Math.abs(e)>Math.abs(n);F.isFullscreen&&!F.isAnimating&&(o?this.changeProject(Math.sign(e)):(F.startUnfullscreenAnimation(),this.fsProject=null,this.showMenu=!0))},onDesktopCloseFS:function(){this.isMobile||!F.isFullscreen||F.isAnimating||(F.startUnfullscreenAnimation(),this.fsProject=null,this.showMenu=!0)}},mounted:function(){var t=this;window.gallery=F,this.resolution={x:window.innerWidth,y:window.innerHeight},this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,l.a.nextTick((function(){Promise.all(t.projects.map((function(t){return new Promise((function(e,n){if("project"==t.type){var img=new Image;img.onload=e,img.onerror=n,img.src=t.preview}else e()}))}))).then((function(){var e=t.isMobile?t.layout.mobile.minScale:t.layout.desktop.minScale;F.initialize({isTouchDevice:t.isTouchDevice,projectsByColumns:t.projectsByColumns,layoutSettings:t.layout,$textBlocks:t.$refs.textBlock,minScale:e,resolution:t.resolution,isMobile:t.isMobile,$canvas:t.$refs.galleryCanvas,$listen:[t.$refs.galleryCanvas].concat(Object(o.a)(t.$refs.textBlock))}),F.on("hover",(function(e){var n=e.id;t.isMobile||(F.gl.fadeItem({id:n,value:1}),t.hover=t.projects.find((function(t){return t.id==n})))})),F.on("unhover",(function(e){var n=e.id;t.isMobile||(F.gl.fadeItem({id:n,value:0}),t.hover=null)})),F.on("changeProject",t.changeProject),F.gestures.on("click",t.onDesktopCloseFS),F.gestures.on("click",t.onClick),F.gestures.on("swipe",t.onSwipe),window.addEventListener("keydown",(function(t){9==t.keyCode&&t.preventDefault()})),window.addEventListener("keyup",(function(e){37==e.keyCode&&t.changeProject(-1),39==e.keyCode&&t.changeProject(1),27==e.keyCode&&F.isFullscreen&&t.onClick()})),t.$store.commit("ready"),requestAnimationFrame(t.tick)})).catch(console.log)}))}},T=(n(202),n(204),n(32)),component=Object(T.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"galleryContainer",staticClass:"gallery"},[n("canvas",{ref:"galleryCanvas",attrs:{draggable:""}}),t._v(" "),t._l(t.domItems,(function(e,o){return n("div",{key:o,ref:"textBlock",refInFor:!0,staticClass:"item",class:e.type,style:t.textBlockStyle,attrs:{draggable:"","data-id":e.id}},[n("div",{staticClass:"item-content",domProps:{innerHTML:t._s(e.content)}})])})),t._v(" "),n("transition",{attrs:{name:"fade"}},[null!==t.fsProject?n("div",{staticClass:"description"},[n("p",{staticClass:"name"},[t._v(t._s(t.fsProject.name))]),t._v(" "),n("p",{staticClass:"where"},[t._v(t._s(t.fsProject.location))]),t._v(" "),n("p",{staticClass:"featuring",domProps:{innerHTML:t._s(t.fsProject.featuring)}}),t._v(" "),n("div",{staticClass:"close-btn",on:{click:function(e){return e.stopPropagation(),t.onClick(e)}}},[n("svg",{staticStyle:{width:"15px",height:"15px"},attrs:{"xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:cc":"http://creativecommons.org/ns#","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",viewBox:"15.25390625 15.6796875 65.421875 64.49609375",version:"1.1",x:"0px",y:"0px",preserveAspectRatio:"xMidYMid meet",fill:"rgb(0,0,0)","fill-opacity":"1"}},[n("g",{attrs:{transform:"translate(0,-956.36216)"}},[n("path",{staticStyle:{opacity:"1",stroke:"rgb(0, 0, 0)","stroke-width":"1px","stroke-linecap":"round","stroke-linejoin":"miter","stroke-miterlimit":"10","stroke-dasharray":"none","stroke-opacity":"1"},attrs:{d:"m 80.67476,972.04099 0,0 -64.495966,64.49591 0,0 z"}}),n("path",{staticStyle:{opacity:"1",stroke:"rgb(0, 0, 0)","stroke-width":"1px","stroke-linecap":"round","stroke-linejoin":"miter","stroke-miterlimit":"10","stroke-dasharray":"none","stroke-opacity":"1"},attrs:{d:"m 79.747979,1036.5369 0,0 -64.495959,-64.49591 0,0 z"}})])])]),t._v(" "),n("div",{staticClass:"arrows-nav desktop-only"},[n("div",{staticClass:"arrow-left",on:{click:function(e){return e.stopPropagation(),t.changeProject(-1)}}},[n("svg",{staticStyle:{width:"15px",height:"15px"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",viewBox:"0 4.452000141143799 32.18899917602539 23.09600067138672","enable-background":"new 0 0 32 32","xml:space":"preserve",preserveAspectRatio:"xMidYMid meet",fill:"rgb(0,0,0)","fill-opacity":"0.4"}},[n("polygon",{attrs:{points:"12.651,5.171 11.956,4.452 0,16 11.956,27.548 12.651,26.829 1.957,16.5 32.189,16.5 32.189,15.5 1.957,15.5 "}})])]),t._v(" "),n("div",{staticClass:"arrow-right",on:{click:function(e){return e.stopPropagation(),t.changeProject(1)}}},[n("svg",{staticStyle:{width:"15px",height:"15px",transform:"rotate(180deg)"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",viewBox:"0 4.452000141143799 32.18899917602539 23.09600067138672","enable-background":"new 0 0 32 32","xml:space":"preserve",preserveAspectRatio:"xMidYMid meet",fill:"rgb(0,0,0)","fill-opacity":"0.4"}},[n("polygon",{attrs:{points:"12.651,5.171 11.956,4.452 0,16 11.956,27.548 12.651,26.829 1.957,16.5 32.189,16.5 32.189,15.5 1.957,15.5 "}})])])])]):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade"}},[null!==t.hover?n("div",{staticClass:"hover-text desktop-only",style:t.hoverStyle},[n("div",{staticClass:"wrap"},[n("p",{staticClass:"name"},[t._v(t._s(t.hover.name))]),t._v(" "),n("p",{staticClass:"feat"},[t._v(t._s(t.hover.feat))])])]):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.showMenu?n("div",{staticClass:"menu",class:t.openMenu?"opened":"closed",on:{click:function(t){t.stopPropagation()}}},[n("p",{staticClass:"title",on:{click:function(e){return e.stopPropagation(),t.toggleOpenMenu(e)}}},[t._v("Ramka")]),t._v(" "),n("div",[n("transition",{attrs:{name:"fade-fast"}},[t.openMenu?n("p",{on:{click:function(e){return e.stopPropagation(),t.focusOn("main")}}},[t._v("Title")]):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade-fast"}},[t.openMenu?n("p",{on:{click:function(e){return e.stopPropagation(),t.focusOn("team")}}},[t._v("Join the team")]):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade-fast"}},[t.openMenu?n("p",{on:{click:function(e){return e.stopPropagation(),t.focusOn("contact")}}},[t._v("Contact")]):t._e()])],1)]):t._e()])],2)}),[],!1,null,"707e4827",null);e.default=component.exports}}]);